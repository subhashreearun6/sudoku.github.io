<!DOCTYPE html>

<head>
    <title></title>
    <style>
        td {
            text-align: center;
        }

        table {
            border: 1px solid black;
            padding: 1px;
            
        }

        td {
            border:2px solid black;
            padding: 1em;
        }

        input {
            outline: none;
            border: none;
            font-size: 1em;
        }
        
        
        
        
    </style>
</head>

<body>
    <form action="" name="form">
        <table >
            <thead>
                <tr>
                    <th></th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>
                        <input type="text" size="1"></input>
                        
                    </td>
                    <td>
                        <input type="text" size="1"></input>
                    </td>
                    <td>
                        <input type="text" size="1"></input>
                    </td>
                    <td>
                        <input type="text" size="1"></input>
                    </td>
                    <td>
                        <input type="text" size="1"></input>
                    </td>
                    <td>
                        <input type="text" size="1"></input>
                    </td>
                    <td>
                        <input type="text" size="1"></input>
                    </td>
                    <td>
                        <input type="text" size="1"></input>
                    </td>
                    <td>
                        <input type="text" size="1"></input>
                    </td>
                </tr>
                <tr>
                    <td>
                        <input type="text" size="1"></input>
                    </td>
                    <td>
                        <input type="text" size="1"></input>
                    </td>
                    <td>
                        <input type="text" size="1"></input>
                    </td>
                    <td>
                        <input type="text" size="1"></input>
                    </td>
                    <td>
                        <input type="text" size="1"></input>
                    </td>
                    <td>
                        <input type="text" size="1"></input>
                    </td>
                    <td>
                        <input type="text" size="1"></input>
                    </td>
                    <td>
                        <input type="text" size="1"></input>
                    </td>
                    <td>
                        <input type="text" size="1"></input>
                    </td>
                </tr>
                <tr>
                    <td>
                        <input type="text" size="1"></input>
                    </td>
                    <td>
                        <input type="text" size="1"></input>
                    </td>
                    <td>
                        <input type="text" size="1"></input>
                    </td>
                    <td>
                        <input type="text" size="1"></input>
                    </td>
                    <td>
                        <input type="text" size="1"></input>
                    </td>
                    <td>
                        <input type="text" size="1"></input>
                    </td>
                    <td>
                        <input type="text" size="1"></input>
                    </td>
                    <td>
                        <input type="text" size="1"></input>
                    </td>
                    <td>
                        <input type="text" size="1"></input>
                    </td>
                </tr>
                <tr>
                    <td>
                        <input type="text" size="1"></input>
                    </td>
                    <td>
                        <input type="text" size="1"></input>
                    </td>
                    <td>
                        <input type="text" size="1"></input>
                    </td>
                    <td>
                        <input type="text" size="1"></input>
                    </td>
                    <td>
                        <input type="text" size="1"></input>
                    </td>
                    <td>
                        <input type="text" size="1"></input>
                    </td>
                    <td>
                        <input type="text" size="1"></input>
                    </td>
                    <td>
                        <input type="text" size="1"></input>
                    </td>
                    <td>
                        <input type="text" size="1"></input>
                    </td>
                </tr>
                <tr>
                    <td>
                        <input type="text" size="1"></input>
                    </td>
                    <td>
                        <input type="text" size="1"></input>
                    </td>
                    <td>
                        <input type="text" size="1"></input>
                    </td>
                    <td>
                        <input type="text" size="1"></input>
                    </td>
                    <td>
                        <input type="text" size="1"></input>
                    </td>
                    <td>
                        <input type="text" size="1"></input>
                    </td>
                    <td>
                        <input type="text" size="1"></input>
                    </td>
                    <td>
                        <input type="text" size="1"></input>
                    </td>
                    <td>
                        <input type="text" size="1"></input>
                    </td>
                </tr>
                <tr>
                    <td>
                        <input type="text" size="1"></input>
                    </td>
                    <td>
                        <input type="text" size="1"></input>
                    </td>
                    <td>
                        <input type="text" size="1"></input>
                    </td>
                    <td>
                        <input type="text" size="1"></input>
                    </td>
                    <td>
                        <input type="text" size="1"></input>
                    </td>
                    <td>
                        <input type="text" size="1"></input>
                    </td>
                    <td>
                        <input type="text" size="1"></input>
                    </td>
                    <td>
                        <input type="text" size="1"></input>
                    </td>
                    <td>
                        <input type="text" size="1"></input>
                    </td>
                </tr>
                <tr>
                    <td>
                        <input type="text" size="1"></input>
                    </td>
                    <td>
                        <input type="text" size="1"></input>
                    </td>
                    <td>
                        <input type="text" size="1"></input>
                    </td>
                    <td>
                        <input type="text" size="1"></input>
                    </td>
                    <td>
                        <input type="text" size="1"></input>
                    </td>
                    <td>
                        <input type="text" size="1"></input>
                    </td>
                    <td>
                        <input type="text" size="1"></input>
                    </td>
                    <td>
                        <input type="text" size="1"></input>
                    </td>
                    <td>
                        <input type="text" size="1"></input>
                    </td>
                </tr>
                <tr>
                    <td>
                        <input type="text" size="1"></input>
                    </td>
                    <td>
                        <input type="text" size="1"></input>
                    </td>
                    <td>
                        <input type="text" size="1"></input>
                    </td>
                    <td>
                        <input type="text" size="1"></input>
                    </td>
                    <td>
                        <input type="text" size="1"></input>
                    </td>
                    <td>
                        <input type="text" size="1"></input>
                    </td>
                    <td>
                        <input type="text" size="1"></input>
                    </td>
                    <td>
                        <input type="text" size="1"></input>
                    </td>
                    <td>
                        <input type="text" size="1"></input>
                    </td>
                </tr>
                <tr>
                    <td>
                        <input type="text" size="1"></input>
                    </td>
                    <td>
                        <input type="text" size="1"></input>
                    </td>
                    <td>
                        <input type="text" size="1"></input>
                    </td>
                    <td>
                        <input type="text" size="1"></input>
                    </td>
                    <td>
                        <input type="text" size="1"></input>
                    </td>
                    <td>
                        <input type="text" size="1"></input>
                    </td>
                    <td>
                        <input type="text" size="1"></input>
                    </td>
                    <td>
                        <input type="text" size="1"></input>
                    </td>
                    <td>
                        <input type="text" size="1"></input>
                    </td>
                </tr>
            </tbody>
        </table>
    </form>

    <script>
        function solve(matrix) {
            for (var i = 0; i <= 8; i++) {
                for (var j = 0; j <= 8; j++) {
                    // console.log("Before:")
                    // console.log("i: " + i)
                    // console.log("j: " + j)
                    // console.log("matrix[i: " + i + "][j: " + j + "] " + matrix[i][j])
                    if (!matrix[i][j]) {
                        for (var k = 1; k <= 9; k++) {
                            p = Math.floor(Math.random() * 10)
                            // console.log("before"+p)
                            if (check(matrix, i, j, p) == true) {
                                // console.log("after"+p)
                                matrix[i][j] = p
                                b = solve(matrix);
                                if (b == true) {
                                    return true;
                                }
                                matrix[i][j] = 0;
                                // console.log(matrix[i][j])
                            }
                        }
                        // console.log("After:")
                        // console.log("i: " + i)
                        // console.log("j: " + j)
                        // console.log("matrix[i: " + i + "][j: " + j + "] " + matrix[i][j])SSs
                        // return false;
                    }
                }
            }
            return true;
        }

        function check(matrix, i, j, k) {
            for (var a = 0; a <= 8; a++) {
                if (matrix[a][j] == k) {
                    return false;
                }
            }
            for (var a = 0; a <= 8; a++) {
                if (matrix[i][a] == k) {
                    return false;
                }
            }

            var y = Math.floor((i / 3)) * 3;
            var x = Math.floor((j / 3)) * 3;
            for (var a = 0; a < 3; a++) {
                for (var b = 0; b < 3; b++) {
                    if (matrix[y + a][x + b] == k) {
                        return false;
                    }
                }
            }
            return true;
        }


        function test() {
            var holder = [];
            for (var i = 0; i < 81; i++) {
                holder[i] = document.form[i].value;

                var matrix = [];
                var j, k;

                for (j = 0, k = -1; j < holder.length; j++) {
                    if (j % 9 === 0) {
                        k++;
                        matrix[k] = [];
                    }
                    matrix[k].push(holder[j]);
                    // console.log(matrix)
                }
            }
            solve(matrix);
            var solved = [];
            for (var i = 0; i < matrix.length; i++) {
                for (var j = 0; j < matrix[i].length; j++) {
                    solved.push(matrix[i][j]);
                }
            }
            console.log(solved)
            for (var z = 0; z < solved.length; z++) {
                document.form[z].value = solved[z];
            }
        }
        function removevalues(k){
            var count = k
            while(count!=0){
                var n = Math.floor(Math.random()*81)
                document.form[n].value = null
                count--
            }
        }
        window.onload = function () {
            test();
            removevalues(60)
        }
    </script>
</body>

</html>
